<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, user-scalable=no" />
  <title>Python Socket</title>
  <link rel="stylesheet" type="text/css" href="/assets/main-dark.css">
</head>
<body>
    <div class="container" style="max-width:100%;height:auto;">
<header>
  <div class="menu">
<h1>
    Soket programlama nedir?
</h1>
    </br></br></br>

    </br>
Soket programlama, birbirleriyle iletişim kurmak için ağdaki iki düğümü bağlamanın bir yoludur.</br>
Bir soket (düğüm) bir IP'deki belirli bir bağlantı noktasını dinlerken, diğer soket bir bağlantı oluşturmak için diğerine erişir.</br>
</br></br>
<img src="/socket.png" alt="Örnek Resim"/></br>
Socket bağlantısını test etmek için basit bir script yazarak satır satır çalışma mantığını açıklayalım:</br>
</br>

<span style="background:#008000">"Bağlantı testi için server.py"</span></br>
</br></br>


<span style="background:#8600b3">import socket</span>#socket modülünü dahil ediyoruz bu dahili bir modül oldugu için kurmamıza gerek yok</br>        
<span style="background:#8600b3">host="192.168.1.31"</span>  #server ip</br>
<span style="background:#8600b3">port=20000</span>           #server port</br>
<span style="background:#8600b3">s=socket.socket()</span>    #s değişkeni oluşturuyorum ve buna soket modulünün socket classından bir obje atıyorum</br>

</br></br>
#Şimdi oluşturduğumuz socketi server bilgisayara bağlamak istiyorum ve bağla adında bir fonksiyon oluşturuyorum.</br>
<span style="background:#8600b3">def bagla():</span></br>
<span style="background:#8600b3">    try:</span></br>
<span style="background:#8600b3">        s.bind((host,port))</span> #Bu aşamada yukarıda oluşturduğumuz socketi(soketi bir kablo olarak düşünebilirsiniz) server bilgisayara bağlıyoruz.</br>
<span style="background:#8600b3">        s.listen()</span> #socketi(kabloyu) server bilgisayara bağladıktan sonra bu bağlantıları dinlemeye alacağım yani herhangi bir bağlantı isteği gelirse </br>
                   #bunu kabuledebilir durumda olacağım bu yüzden listen() fonksiyonunu kullanıyorum ve bağlantıları dinliyorum.</br>
                   

</br></br></br></br>
#ve eğer herhangi bir hata çıkarsa bana baglantı hatasını bildirsin ve tekrar baglantı için bağlantı fonksiyonuna dallansın- </br>
#yani burada recursive bir proses oluşturuyoruz.</br>
<span style="background:#8600b3">    except:</span>  </br>
<span style="background:#8600b3">        print("baglantı hatası")</span></br>
<span style="background:#8600b3">        bagla()</span></br>
</br></br></br>
#şimdi kabul_et diye bir fonksiyon yaratalım ve clientten gelen bağlantı isteklerini burada değerlendirelim.</br>
<span style="background:#8600b3">def kabul_et():</span></br>
<span style="background:#8600b3">    print("Baglantı bekleniyor")</span></br>
<span style="background:#8600b3">    baglanti,adres=s.accept()</span></br>
    #accept() fonksiyonu herhangi bir bağlantı isteği geldiğinde bana bir tuple(demet) objesi döndürüyor;bu tuple'ın ilk i benim</br>
    #karşı tarafla olan bağlantımı temsil ediyor yani ben karşı tarafa herhangi bir veri yollayıp,veri alacağım zaman</br>
    #bunu "baglanti" değişkeni üzerinden yapıyorum.</br>
    #"adres"  değişkeni ise  tuple formatında ve client'ın ipsini ve client'in hangi portunda çıkış yaptığını yazıyor.</br>
<span style="background:#8600b3">    print("Bağlantı gerçekleşti kurban ip:",adres[0],"kurban port:",adres[1])</span></br>
<span style="background:#8600b3">    baglanti.close()</span> # test amaçlı olduğu için bağlantı başarılı bir şekilde geldikten sonra bunu görelim ve kapatalım.</br>
<span style="background:#8600b3">bagla()</span></br>
<span style="background:#8600b3">kabul_et()</span></br></br></br></br>
#########################################################################################################################################################</br>
#########################################################################################################################################################</br>
#########################################################################################################################################################</br>
</br></br></br>

<span style="background:#008000">"Bağlantı testi için client.py"</span></br>
<span style="background:#8600b3">import socket</span> </br>
<span style="background:#8600b3">s=socket.socket()</span></br>
<span style="background:#8600b3">s.connect(("192.168.1.31",20000))</span></br>
<span style="background:#8600b3">s.close()</span></br>

  
<p style="color:MediumSeaGreen;">Kaynak kod:<a href="https://github.com/nuriyavuz/PythonSocket/tree/master/1">https://github.com/nuriyavuz/PythonSocket/tree/master/1</a></p>

</br>
</br>
  </div>
</header>
